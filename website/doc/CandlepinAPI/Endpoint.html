<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: CandlepinAPI::Endpoint
  
    &mdash; &quot;Candlepin API&quot;
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '../';
  framesUrl = "../frames.html#!" + escape(window.location.href);
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="../_index.html">Index (E)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../CandlepinAPI.html" title="CandlepinAPI (module)">CandlepinAPI</a></span></span>
     &raquo; 
    <span class="title">Endpoint</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="../method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="../file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Class: CandlepinAPI::Endpoint
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="../Sublime/Hash2Instance.html" title="Sublime::Hash2Instance (class)">Sublime::Hash2Instance</a></span></span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next"><span class='object_link'><a href="../Sublime/Hash2Instance.html" title="Sublime::Hash2Instance (class)">Sublime::Hash2Instance</a></span></li>
          
            <li class="next">CandlepinAPI::Endpoint</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
      <dt class="r2">Extended by:</dt>
      <dd class="r2">Enumerable</dd>
      
    
  
    
      <dt class="r1">Includes:</dt>
      <dd class="r1"><span class='object_link'><a href="../CandlepinAPI.html" title="CandlepinAPI (module)">CandlepinAPI</a></span></dd>
      
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">lib/candlepin-api/base.rb<span class="defines">,<br />
  lib/candlepin-api/base.rb,<br /> lib/candlepin-api/base.rb,<br /> lib/candlepin-api/base.rb,<br /> lib/candlepin-api/base.rb</span>
</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>End of class CandlepinAPI::Endpoint</p>


  </div>
</div>
<div class="tags">
  

</div>
  <h2>Constant Summary</h2>
  
    <dl class="constants">
      
        <dt id="PathParams-constant" class="">PathParams =
          <div class="docstring">
  <div class="discussion">
    
<p>Array of API-defined keywords for the placeholders in the URI.</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='lbracket'>[</span><span class='rbracket'>]</span></pre></dd>
      
        <dt id="PathMap-constant" class="">PathMap =
          <div class="docstring">
  <div class="discussion">
    
<p>Hash mapping values from the URI to keywords.  This is needed because the
API keywords aren&#39;t completely consistent.  The map will resolve
various alternatives into the canonical keyword Clonepin uses.</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='lbrace'>{</span>
<span class='rbrace'>}</span></pre></dd>
      
        <dt id="Verbs-constant" class="">Verbs =
          <div class="docstring">
  <div class="discussion">
    
<p>Hash of HTTP methods mapped to the verb class representing them.</p>

<p>Verb classes self-register here as part of their definitions.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code>Verbs[:GET] =&gt; SomeGetAction</code></pre>
    
  </div>


</div>
        </dt>
        <dd><pre class="code"><span class='lbrace'>{</span>
<span class='rbrace'>}</span></pre></dd>
      
        <dt id="AllowedRoles-constant" class="">AllowedRoles =
          <div class="docstring">
  <div class="discussion">
    
<p>Roles (.e.g, :SUPER_ADMIN) that are permitted to access this verb entry
point.</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='lbracket'>[</span><span class='rbracket'>]</span></pre></dd>
      
        <dt id="API_Flags-constant" class="">API_Flags =
          <div class="docstring">
  <div class="discussion">
    
<p>Restrictions or special qualities of a verb entry point.  All default to
false; individual class definitions turn appropriate ones on.</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='lbrace'>{</span>
  <span class='symbol'>:admin_only</span>	<span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span>
  <span class='symbol'>:can_create_owner</span>	<span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span>
  <span class='symbol'>:disallowed</span>	<span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span>
  <span class='symbol'>:internal_only</span>	<span class='op'>=&gt;</span> <span class='kw'>false</span>
<span class='rbrace'>}</span></pre></dd>
      
        <dt id="Keys_by_Role-constant" class="">Keys_by_Role =
          <div class="docstring">
  <div class="discussion">
    
<p>Different roles can use different keys.  The :SUPER_ADMIN role can use
&#39;em all, but others can&#39;t use values from the URI, for example.</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='lbrace'>{</span>
<span class='rbrace'>}</span></pre></dd>
      
        <dt id="QueryParams-constant" class="">QueryParams =
          <div class="docstring">
  <div class="discussion">
    
<p>See the explanation above about the PathParams and PathMap constants.</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='lbracket'>[</span><span class='rbracket'>]</span></pre></dd>
      
        <dt id="QueryMap-constant" class="">QueryMap =
          
        </dt>
        <dd><pre class="code"><span class='lbrace'>{</span>
<span class='rbrace'>}</span></pre></dd>
      
        <dt id="ReturnType-constant" class="">ReturnType =
          
        </dt>
        <dd><pre class="code"><span class='lbrace'>{</span><span class='rbrace'>}</span></pre></dd>
      
        <dt id="HTTPStatusCodes-constant" class="">HTTPStatusCodes =
          
        </dt>
        <dd><pre class="code"><span class='lbracket'>[</span><span class='rbracket'>]</span></pre></dd>
      
        <dt id="VerifiedParams-constant" class="">VerifiedParams =
          
        </dt>
        <dd><pre class="code"><span class='lbracket'>[</span><span class='rbracket'>]</span></pre></dd>
      
        <dt id="TimeLimit-constant" class="">TimeLimit =
          <div class="docstring">
  <div class="discussion">
    
<p>How long a request is allowed to run without a response.</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='int'>60</span></pre></dd>
      
    </dl>
  



  
  
  <h3 class="inherited">Constants included
     from <span class='object_link'><a href="../CandlepinAPI.html" title="CandlepinAPI (module)">CandlepinAPI</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../CandlepinAPI.html#Placeholder_RE-constant" title="CandlepinAPI::Placeholder_RE (constant)">Placeholder_RE</a></span>, <span class='object_link'><a href="../CandlepinAPI.html#VERSION-constant" title="CandlepinAPI::VERSION (constant)">VERSION</a></span></p>


  <h2>Class Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#path_regex_map-class_method" title="path_regex_map (class method)">+ (Object) <strong>path_regex_map</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Add reader methods that makes sure the instance variables are always
hashes.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#path_string2regex-class_method" title="path_string2regex (class method)">+ (Object) <strong>path_string2regex</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#path_string_map-class_method" title="path_string_map (class method)">+ (Object) <strong>path_string_map</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

    
  </ul>

  <h2>Instance Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#auth_password-instance_method" title="#auth_password (instance method)">- (Object) <strong>auth_password</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute auth_password.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#auth_username-instance_method" title="#auth_username (instance method)">- (Object) <strong>auth_username</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Values of special request header fields.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#consumer_uuid-instance_method" title="#consumer_uuid (instance method)">- (Object) <strong>consumer_uuid</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute consumer_uuid.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#entitlement_id-instance_method" title="#entitlement_id (instance method)">- (Object) <strong>entitlement_id</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute entitlement_id.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#keys-instance_method" title="#keys (instance method)">- (Object) <strong>keys</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Shard-determining keys appropriate to the request for which we were
instantiated.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#net_http_request-instance_method" title="#net_http_request (instance method)">- (Object) <strong>net_http_request</strong> </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute net_http_request.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#org_id-instance_method" title="#org_id (instance method)">- (Object) <strong>org_id</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute org_id.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#pathparams-instance_method" title="#pathparams (instance method)">- (Object) <strong>pathparams</strong> </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Instance variables for the values pulled from the URI.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#pool_id-instance_method" title="#pool_id (instance method)">- (Object) <strong>pool_id</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute pool_id.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#queryparams-instance_method" title="#queryparams (instance method)">- (Object) <strong>queryparams</strong> </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute queryparams.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#request-instance_method" title="#request (instance method)">- (Object) <strong>request</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Retain the request from which we were built.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#request_body-instance_method" title="#request_body (instance method)">- (Object) <strong>request_body</strong> </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute request_body.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#request_header-instance_method" title="#request_header (instance method)">- (Object) <strong>request_header</strong> </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute request_header.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#response-instance_method" title="#response (instance method)">- (Object) <strong>response</strong> </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute response.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#response_body-instance_method" title="#response_body (instance method)">- (Object) <strong>response_body</strong> </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute response_body.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#response_header-instance_method" title="#response_header (instance method)">- (Object) <strong>response_header</strong> </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute response_header.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#username-instance_method" title="#username (instance method)">- (Object) <strong>username</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute username.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Class Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#%5B%5D-class_method" title="[] (class method)">+ (Hash) <strong>[]</strong>(key_p) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Access the endpoints directly by path.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#add-class_method" title="add (class method)">+ (Object) <strong>add</strong>(klass) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Add an endpoint class to the map.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#admin_only%3F-class_method" title="admin_only? (class method)">+ (Boolean) <strong>admin_only?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Helpers for access to the individual flag states.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#allowed_roles-class_method" title="allowed_roles (class method)">+ (Object) <strong>allowed_roles</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Helpers for access to the &#39;verb class&#39; constants.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#can_create_owner%3F-class_method" title="can_create_owner? (class method)">+ (Boolean) <strong>can_create_owner?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#disallowed%3F-class_method" title="disallowed? (class method)">+ (Boolean) <strong>disallowed?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#each-class_method" title="each (class method)">+ (Object) <strong>each</strong>(&amp;block) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Needed for Enumerable (the registered endpoints are our list).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#endpoint-class_method" title="endpoint (class method)">+ (Object) <strong>endpoint</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Pointer back to the endpoint for this verb.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ep2verb-class_method" title="ep2verb (class method)">+ (Object) <strong>ep2verb</strong>(req, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Turn an entrypoint into an HTTP verb (method).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find-class_method" title="find (class method)">+ (Object) <strong>find</strong>(&amp;block) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>def select.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#flags-class_method" title="flags (class method)">+ (Object) <strong>flags</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Return an array of the flags set to &#39;true&#39; for the verb entry
point.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#internal_only%3F-class_method" title="internal_only? (class method)">+ (Boolean) <strong>internal_only?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#key%3F-class_method" title="key? (class method)">+ (Boolean) <strong>key?</strong>(key) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>def keys.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#keys-class_method" title="keys (class method)">+ (Object) <strong>keys</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>def string_keys.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#method-class_method" title="method (class method)">+ (Object) <strong>method</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#path_regex-class_method" title="path_regex (class method)">+ (Object) <strong>path_regex</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Helper to fetch the URI regular expression for the endpoint.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#path_string-class_method" title="path_string (class method)">+ (Object) <strong>path_string</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>As above, except it gets the raw pattern before it&#39;s turned into a
regex.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pathparam-class_method" title="pathparam (class method)">+ (Object) <strong>pathparam</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Consult the map to obtain the canonical name for a parameter embedded in
the URI.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pparam-class_method" title="pparam (class method)">+ (Object) <strong>pparam</strong>(name_p) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Consult the map to obtain the canonical name for a parameter embedded in
the URI.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#qparam-class_method" title="qparam (class method)">+ (Object) <strong>qparam</strong>(name_p) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>See the explanation above for the pparam class method.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#regex_keys-class_method" title="regex_keys (class method)">+ (Object) <strong>regex_keys</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>def size.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#select-class_method" title="select (class method)">+ (nil, Array&lt;Hash&gt;) <strong>select</strong>(mode = :regex) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Override the Enumerable method because we don&#39;t fit perfectly.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#size-class_method" title="size (class method)">+ (Object) <strong>size</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>def find.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#string_keys-class_method" title="string_keys (class method)">+ (Object) <strong>string_keys</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>def regex_keys.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#timelimit-class_method" title="timelimit (class method)">+ (Object) <strong>timelimit</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#valid_response%3F-class_method" title="valid_response? (class method)">+ (Boolean) <strong>valid_response?</strong>(rsp) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>def valid_responses.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#valid_responses-class_method" title="valid_responses (class method)">+ (Object) <strong>valid_responses</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>def key?.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#verb-class_method" title="verb (class method)">+ (Object) <strong>verb</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#verbs-class_method" title="verbs (class method)">+ (Object) <strong>verbs</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Another helper to access the map of available verb classes for the
endpoint.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#admin_only%3F-instance_method" title="#admin_only? (instance method)">- (Boolean) <strong>admin_only?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Questions about access to the verb/entrypoint.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#allowed_roles-instance_method" title="#allowed_roles (instance method)">- (Object) <strong>allowed_roles</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#basic_auth-instance_method" title="#basic_auth (instance method)">- (Object) <strong>basic_auth</strong>(*args_p) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#basic_auth%3D-instance_method" title="#basic_auth= (instance method)">- (Object) <strong>basic_auth=</strong>(username, password) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#basic_auth_field-instance_method" title="#basic_auth_field (instance method)">- (Object) <strong>basic_auth_field</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#can_create_owner%3F-instance_method" title="#can_create_owner? (instance method)">- (Boolean) <strong>can_create_owner?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#disallowed%3F-instance_method" title="#disallowed? (instance method)">- (Boolean) <strong>disallowed?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#endpoint-instance_method" title="#endpoint (instance method)">- (Object) <strong>endpoint</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#extract_uri_info-instance_method" title="#extract_uri_info (instance method)">- (Object) <strong>extract_uri_info</strong>(path) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>End of def initialize.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#flags-instance_method" title="#flags (instance method)">- (Object) <strong>flags</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#has_basic_auth%3F-instance_method" title="#has_basic_auth? (instance method)">- (Boolean) <strong>has_basic_auth?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#have_params%3F-instance_method" title="#have_params? (instance method)">- (Boolean) <strong>have_params?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>def missing_params.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (Endpoint) <strong>initialize</strong>(*args) </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Constructor (used only to instantiate for a verb entry point).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#internal_only%3F-instance_method" title="#internal_only? (instance method)">- (Boolean) <strong>internal_only?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#is_external%3F-instance_method" title="#is_external? (instance method)">- (Boolean) <strong>is_external?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Return true if the request header field indicates this request came from
Outside.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#is_trusted_origin%3F-instance_method" title="#is_trusted_origin? (instance method)">- (Boolean) <strong>is_trusted_origin?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Abstract the check for a trusted IP origin into a do-nothing-else method.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#is_trusted_request%3F-instance_method" title="#is_trusted_request? (instance method)">- (Boolean) <strong>is_trusted_request?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Is this a completely trusted connexion?.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#load_from_nethttp-instance_method" title="#load_from_nethttp (instance method)">- (Object) <strong>load_from_nethttp</strong>(req) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>End of extract_uri_info.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#load_from_rackrequest-instance_method" title="#load_from_rackrequest (instance method)">- (Object) <strong>load_from_rackrequest</strong>(req) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>End of def load_from_nethttp.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#load_variables_from_trusted_uri-instance_method" title="#load_variables_from_trusted_uri (instance method)">- (Object) <strong>load_variables_from_trusted_uri</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>We can trust the values in the URI and the query string; use them if we
don&#39;t already have better ones.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#missing_params-instance_method" title="#missing_params (instance method)">- (Object) <strong>missing_params</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Stuff relating to a specific method/verb applied to the endpoint.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pparam-instance_method" title="#pparam (instance method)">- (Object) <strong>pparam</strong>(name) </a>
    

    
      (also: #path_param)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Instance methods that simply makes the class methods available at the
object level.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#qparam-instance_method" title="#qparam (instance method)">- (Object) <strong>qparam</strong>(name) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Instance method for the query parameter name canonicalisation.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#role_is_admin%21-instance_method" title="#role_is_admin! (instance method)">- (Object) <strong>role_is_admin!</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#role_is_admin%3F-instance_method" title="#role_is_admin? (instance method)">- (Boolean) <strong>role_is_admin?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Questions about the request this object represents.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#run_checks-instance_method" title="#run_checks (instance method)">- (Object) <strong>run_checks</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>End of def load_variables_from_trusted_uri.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#server_uri-instance_method" title="#server_uri (instance method)">- (Object) <strong>server_uri</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#server_uri%3D-instance_method" title="#server_uri= (instance method)">- (Object) <strong>server_uri=</strong>(uri) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#submit-instance_method" title="#submit (instance method)">- (Object) <strong>submit</strong>(options_p = {}) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>def server_uri.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_s-instance_method" title="#to_s (instance method)">- (Object) <strong>to_s</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Our as-a-string rendition is the URI path with all appropriate values
filled in.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#valid_response%3F-instance_method" title="#valid_response? (instance method)">- (Boolean) <strong>valid_response?</strong>(rsp) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>def valid_responses.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#valid_responses-instance_method" title="#valid_responses (instance method)">- (Object) <strong>valid_responses</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>dev verbs.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#verb-instance_method" title="#verb (instance method)">- (Object) <strong>verb</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#verbs-instance_method" title="#verbs (instance method)">- (Object) <strong>verbs</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../CandlepinAPI.html" title="CandlepinAPI (module)">CandlepinAPI</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../CandlepinAPI.html#VERSION-class_method" title="CandlepinAPI.VERSION (method)">VERSION</a></span>, <span class='object_link'><a href="../CandlepinAPI.html#basic_auth-class_method" title="CandlepinAPI.basic_auth (method)">basic_auth</a></span>, <span class='object_link'><a href="../CandlepinAPI.html#basic_auth%3D-class_method" title="CandlepinAPI.basic_auth= (method)">basic_auth=</a></span>, <span class='object_link'><a href="../CandlepinAPI.html#normalise_rqtype-instance_method" title="CandlepinAPI#normalise_rqtype (method)">#normalise_rqtype</a></span>, <span class='object_link'><a href="../CandlepinAPI.html#regex2printf-instance_method" title="CandlepinAPI#regex2printf (method)">#regex2printf</a></span>, <span class='object_link'><a href="../CandlepinAPI.html#server_uri-class_method" title="CandlepinAPI.server_uri (method)">server_uri</a></span>, <span class='object_link'><a href="../CandlepinAPI.html#server_uri%3D-class_method" title="CandlepinAPI.server_uri= (method)">server_uri=</a></span>, <span class='object_link'><a href="../CandlepinAPI.html#version-class_method" title="CandlepinAPI.version (method)">version</a></span></p>

  
  
  
  
  
  <div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="CandlepinAPI::Endpoint (class)">Endpoint</a></span></tt>) <strong>initialize</strong>(*args) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Constructor (used only to instantiate for a verb entry point).</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


920
921
922
923
924
925
926
927
928
929
930
931
932
933
934
935
936
937
938
939
940
941
942
943
944
945
946</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 920</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
  <span class='comment'>#
</span>  <span class='comment'># Preset our instance variables.
</span>  <span class='comment'>#
</span>  <span class='ivar'>@keys</span>		<span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='ivar'>@pathparams</span>	<span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='ivar'>@queryparams</span>	<span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='ivar'>@role</span>		<span class='op'>=</span> <span class='kw'>nil</span>
  <span class='comment'>#
</span>  <span class='comment'># If we were passed a Rack::Request as the first argument, we&#39;re
</span>  <span class='comment'># parsing an existing request.  Do it.
</span>  <span class='comment'>#
</span>  <span class='ivar'>@objtype</span> <span class='op'>=</span> <span class='symbol'>:request</span>
  <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>||</span> <span class='id identifier rubyid_args'>args</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_kind_of?'>kind_of?</span><span class='lparen'>(</span><span class='const'>Hash</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_hsh'>hsh</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
    <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_hsh'>hsh</span><span class='period'>.</span><span class='id identifier rubyid_key?'>key?</span><span class='lparen'>(</span><span class='symbol'>:header</span><span class='rparen'>)</span><span class='rparen'>)</span>
      <span class='ivar'>@request_header</span> <span class='op'>=</span> <span class='id identifier rubyid_hsh'>hsh</span><span class='lbracket'>[</span><span class='symbol'>:header</span><span class='rbracket'>]</span>
      <span class='id identifier rubyid_hsh'>hsh</span> <span class='op'>=</span> <span class='id identifier rubyid_hsh'>hsh</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
      <span class='id identifier rubyid_hsh'>hsh</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='symbol'>:header</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_args'>args</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_hsh'>hsh</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='ivar'>@objtype</span> <span class='op'>=</span> <span class='symbol'>:response</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_request'>request</span> <span class='op'>=</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_shift'>shift</span>
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='kw'>super</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="class_attr_details" class="attr_details">
    <h2>Class Attribute Details</h2>
    
      
      <span id="path_regex_map=-class_method"></span>
      <div class="method_details first">
  <h3 class="signature first" id="path_regex_map-class_method">
  
    + (<tt>Object</tt>) <strong>path_regex_map</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Add reader methods that makes sure the instance variables are always
hashes.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


202
203
204</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 202</span>

<span class='kw'>def</span> <span class='id identifier rubyid_path_regex_map'>path_regex_map</span>
  <span class='kw'>return</span> <span class='lparen'>(</span><span class='ivar'>@path_regex_map</span> <span class='op'>||=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="path_string2regex=-class_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="path_string2regex-class_method">
  
    + (<tt>Object</tt>) <strong>path_string2regex</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li>#path_regex_map</li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


212
213
214</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 212</span>

<span class='kw'>def</span> <span class='id identifier rubyid_path_string2regex'>path_string2regex</span>
  <span class='kw'>return</span> <span class='lparen'>(</span><span class='ivar'>@path_string2regex</span> <span class='op'>||=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="path_string_map=-class_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="path_string_map-class_method">
  
    + (<tt>Object</tt>) <strong>path_string_map</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li>#path_regex_map</li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


207
208
209</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 207</span>

<span class='kw'>def</span> <span class='id identifier rubyid_path_string_map'>path_string_map</span>
  <span class='kw'>return</span> <span class='lparen'>(</span><span class='ivar'>@path_string_map</span> <span class='op'>||=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id="auth_password=-instance_method"></span>
      <div class="method_details first">
  <h3 class="signature first" id="auth_password-instance_method">
  
    - (<tt>Object</tt>) <strong>auth_password</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute auth_password</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


788
789
790</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 788</span>

<span class='kw'>def</span> <span class='id identifier rubyid_auth_password'>auth_password</span>
  <span class='ivar'>@auth_password</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="auth_username=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="auth_username-instance_method">
  
    - (<tt>Object</tt>) <strong>auth_username</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Values of special request header fields.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


787
788
789</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 787</span>

<span class='kw'>def</span> <span class='id identifier rubyid_auth_username'>auth_username</span>
  <span class='ivar'>@auth_username</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="consumer_uuid=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="consumer_uuid-instance_method">
  
    - (<tt>Object</tt>) <strong>consumer_uuid</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute consumer_uuid</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


791
792
793</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 791</span>

<span class='kw'>def</span> <span class='id identifier rubyid_consumer_uuid'>consumer_uuid</span>
  <span class='ivar'>@consumer_uuid</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="entitlement_id=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="entitlement_id-instance_method">
  
    - (<tt>Object</tt>) <strong>entitlement_id</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute entitlement_id</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


792
793
794</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 792</span>

<span class='kw'>def</span> <span class='id identifier rubyid_entitlement_id'>entitlement_id</span>
  <span class='ivar'>@entitlement_id</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="keys=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="keys-instance_method">
  
    - (<tt>Object</tt>) <strong>keys</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Shard-determining keys appropriate to the request for which we were
instantiated.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


836
837
838</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 836</span>

<span class='kw'>def</span> <span class='id identifier rubyid_keys'>keys</span>
  <span class='ivar'>@keys</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="net_http_request-instance_method">
  
    - (<tt>Object</tt>) <strong>net_http_request</strong>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute net_http_request</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


796
797
798</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 796</span>

<span class='kw'>def</span> <span class='id identifier rubyid_net_http_request'>net_http_request</span>
  <span class='ivar'>@net_http_request</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="org_id=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="org_id-instance_method">
  
    - (<tt>Object</tt>) <strong>org_id</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute org_id</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


790
791
792</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 790</span>

<span class='kw'>def</span> <span class='id identifier rubyid_org_id'>org_id</span>
  <span class='ivar'>@org_id</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="pathparams-instance_method">
  
    - (<tt>Object</tt>) <strong>pathparams</strong>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Instance variables for the values pulled from the URI.  We maintain these
as an alternate datastore in case there happens to be a named parameter
duplicated in both locations.  This shouldn&#39;t happen, since pathparam
names are represented as symbols and query parameter names as strings.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


698
699
700</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 698</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pathparams'>pathparams</span>
  <span class='ivar'>@pathparams</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="pool_id=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="pool_id-instance_method">
  
    - (<tt>Object</tt>) <strong>pool_id</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute pool_id</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


793
794
795</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 793</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pool_id'>pool_id</span>
  <span class='ivar'>@pool_id</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="queryparams-instance_method">
  
    - (<tt>Object</tt>) <strong>queryparams</strong>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute queryparams</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


699
700
701</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 699</span>

<span class='kw'>def</span> <span class='id identifier rubyid_queryparams'>queryparams</span>
  <span class='ivar'>@queryparams</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="request=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="request-instance_method">
  
    - (<tt>Object</tt>) <strong>request</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Retain the request from which we were built.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


841
842
843</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 841</span>

<span class='kw'>def</span> <span class='id identifier rubyid_request'>request</span>
  <span class='ivar'>@request</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="request_body-instance_method">
  
    - (<tt>Object</tt>) <strong>request_body</strong>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute request_body</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


843
844
845</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 843</span>

<span class='kw'>def</span> <span class='id identifier rubyid_request_body'>request_body</span>
  <span class='ivar'>@request_body</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="request_header-instance_method">
  
    - (<tt>Object</tt>) <strong>request_header</strong>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute request_header</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


842
843
844</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 842</span>

<span class='kw'>def</span> <span class='id identifier rubyid_request_header'>request_header</span>
  <span class='ivar'>@request_header</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="response-instance_method">
  
    - (<tt>Object</tt>) <strong>response</strong>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute response</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


844
845
846</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 844</span>

<span class='kw'>def</span> <span class='id identifier rubyid_response'>response</span>
  <span class='ivar'>@response</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="response_body-instance_method">
  
    - (<tt>Object</tt>) <strong>response_body</strong>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute response_body</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


845
846
847</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 845</span>

<span class='kw'>def</span> <span class='id identifier rubyid_response_body'>response_body</span>
  <span class='ivar'>@response_body</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="response_header-instance_method">
  
    - (<tt>Object</tt>) <strong>response_header</strong>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute response_header</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


846
847
848</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 846</span>

<span class='kw'>def</span> <span class='id identifier rubyid_response_header'>response_header</span>
  <span class='ivar'>@response_header</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="username=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="username-instance_method">
  
    - (<tt>Object</tt>) <strong>username</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute username</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


794
795
796</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 794</span>

<span class='kw'>def</span> <span class='id identifier rubyid_username'>username</span>
  <span class='ivar'>@username</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="[]-class_method">
  
    + (<tt>Hash</tt>) <strong>[]</strong>(key_p) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note todo">
    <strong>TODO:</strong>
    <div class='inline'>
<p>Fix bug: The following are coming up empty:</p>

<pre class="code ruby"><code class="ruby">/candlepin//owners/([^/]+)/consumers
/consumers/_%consumer-uuid%/certificates/serials
/owners/([^/]+)/consumers</code></pre>
</div>
  </div>

  <div class="note todo">
    <strong>TODO:</strong>
    <div class='inline'>
<p>Add [] method to endpoints that looks up verb classes (<em>e.g.</em>, `<a
href="http://:GET">endpoint</a>`)</p>
</div>
  </div>


<p>Access the endpoints directly by path.  Or by regex.  (Complicated, that,
since the keys are themselves regexes.  Caveat emptor.)</p>

<p>Leading slash problem?</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Returns a hash for a single match, or an array of `{ path-as-regex =&gt;
hash }` for multiple matches.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 241</span>

<span class='kw'>def</span> <span class='op'>[]</span><span class='lparen'>(</span><span class='id identifier rubyid_key_p'>key_p</span><span class='rparen'>)</span>
  <span class='comment'>#
</span>  <span class='comment'># Look for exact matches.
</span>  <span class='comment'>#
</span>  <span class='kw'>return</span> <span class='id identifier rubyid_result'>result</span> <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_path_regex_map'>path_regex_map</span><span class='lbracket'>[</span><span class='id identifier rubyid_key_p'>key_p</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_result'>result</span> <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_path_string_map'>path_string_map</span><span class='lbracket'>[</span><span class='id identifier rubyid_key_p'>key_p</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='comment'>#
</span>  <span class='comment'># Try treating the argument as a path and find entries that
</span>  <span class='comment'># match it.
</span>  <span class='comment'>#
</span>  <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_key_p'>key_p</span><span class='period'>.</span><span class='id identifier rubyid_kind_of?'>kind_of?</span><span class='lparen'>(</span><span class='const'>String</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_key'>key</span> <span class='op'>=</span> <span class='id identifier rubyid_key_p'>key_p</span><span class='period'>.</span><span class='id identifier rubyid_sub'>sub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>%r!</span><span class='tstring_content'>^.*/candlepin/</span><span class='regexp_end'>!</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_key'>key</span><span class='period'>.</span><span class='id identifier rubyid_sub!'>sub!</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>%r!</span><span class='tstring_content'>^/+</span><span class='regexp_end'>!</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_key'>key</span><span class='period'>.</span><span class='id identifier rubyid_sub!'>sub!</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>%r!</span><span class='tstring_content'>\?.*</span><span class='regexp_end'>!</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span><span class='lparen'>(</span><span class='symbol'>:regex</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_pat'>pat</span><span class='comma'>,</span><span class='id identifier rubyid_klass'>klass</span><span class='op'>|</span> <span class='id identifier rubyid_key'>key</span> <span class='op'>=~</span> <span class='id identifier rubyid_pat'>pat</span> <span class='rbrace'>}</span>
    <span class='kw'>unless</span> <span class='lparen'>(</span><span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span><span class='rparen'>)</span>
      <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;</span> <span class='int'>1</span><span class='rparen'>)</span>
        <span class='comment'>#
</span>        <span class='comment'># We have multiple matches.  It&#39;s possible that our key
</span>        <span class='comment'># has a keyword where some entrypoints expect it but others
</span>        <span class='comment'># have a placeholder.  E.g., both of the following will
</span>        <span class='comment'># match &#39;consumers/&lt;consumer-uuid&gt;/certificates/serials&#39;,
</span>        <span class='comment'># but only the first match is actually correct:
</span>        <span class='comment'>#
</span>        <span class='comment'># ^consumers\/([^\/]+)\/certificates\/serials\/?$
</span>        <span class='comment'># ^consumers\/([^\/]+)\/certificates\/([^\/]+)\/?$
</span>        <span class='comment'>#
</span>        <span class='comment'># Cheat by picking the one with the fewest pathparams
</span>        <span class='comment'># (and praying).  If more than one have the same value
</span>        <span class='comment'># for &#39;fewest&#39;, it&#39;s a legitimate duplicate.  That&#39;s our
</span>        <span class='comment'># assumption and we&#39;re sticking to it.
</span>        <span class='comment'>#
</span>        <span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_sort!'>sort!</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span><span class='id identifier rubyid_b'>b</span><span class='op'>|</span>
          <span class='id identifier rubyid_aParams'>aParams</span> <span class='op'>=</span> <span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_values'>values</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_const_get'>const_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>PathParams</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
          <span class='id identifier rubyid_bParams'>bParams</span> <span class='op'>=</span> <span class='id identifier rubyid_b'>b</span><span class='period'>.</span><span class='id identifier rubyid_values'>values</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_const_get'>const_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>PathParams</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
          <span class='id identifier rubyid_aParams'>aParams</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>&lt;=&gt;</span> <span class='id identifier rubyid_bParams'>bParams</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span>
        <span class='rbrace'>}</span>
        <span class='id identifier rubyid_minparams'>minparams</span> <span class='op'>=</span> <span class='id identifier rubyid_result'>result</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_values'>values</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_const_get'>const_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>PathParams</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span>
        <span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_delete_if'>delete_if</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_o'>o</span><span class='op'>|</span> <span class='id identifier rubyid_o'>o</span><span class='period'>.</span><span class='id identifier rubyid_values'>values</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_const_get'>const_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>PathParams</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;</span> <span class='id identifier rubyid_minparams'>minparams</span> <span class='rbrace'>}</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span> <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>==</span> <span class='int'>1</span><span class='rparen'>)</span>
      <span class='kw'>return</span> <span class='id identifier rubyid_result'>result</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='comment'>#
</span>  <span class='comment'># Try treating the argument as a regex used to match a path pattern.
</span>  <span class='comment'>#
</span>  <span class='id identifier rubyid_results'>results</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_path_string_map'>path_string_map</span><span class='period'>.</span><span class='id identifier rubyid_inject'>inject</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_memo'>memo</span><span class='comma'>,</span><span class='id identifier rubyid_tuple'>tuple</span><span class='op'>|</span>
    <span class='lparen'>(</span><span class='id identifier rubyid_ep'>ep</span><span class='comma'>,</span> <span class='id identifier rubyid_elt'>elt</span><span class='rparen'>)</span> <span class='op'>=</span> <span class='id identifier rubyid_tuple'>tuple</span>
    <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_ep'>ep</span> <span class='op'>=~</span> <span class='const'>Regexp</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='rparen'>)</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_memo'>memo</span> <span class='op'>&lt;&lt;</span> <span class='lbrace'>{</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_path_string2regex'>path_string2regex</span><span class='lbracket'>[</span><span class='id identifier rubyid_ep'>ep</span><span class='rbracket'>]</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_elt'>elt</span> <span class='rbrace'>}</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_memo'>memo</span>
  <span class='rbrace'>}</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_results'>results</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>?</span> <span class='kw'>nil</span> <span class='op'>:</span> <span class='id identifier rubyid_results'>results</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="add-class_method">
  
    + (<tt>Object</tt>) <strong>add</strong>(klass) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Add an endpoint class to the map.  The endpoint classes invoke this as part
of their definitions.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


366
367
368
369
370</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 366</span>

<span class='kw'>def</span> <span class='id identifier rubyid_add'>add</span><span class='lparen'>(</span><span class='id identifier rubyid_klass'>klass</span><span class='rparen'>)</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_path_regex_map'>path_regex_map</span><span class='lbracket'>[</span><span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_path_regex'>path_regex</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_klass'>klass</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_path_string_map'>path_string_map</span><span class='lbracket'>[</span><span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_path_string'>path_string</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_klass'>klass</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_path_string2regex'>path_string2regex</span><span class='lbracket'>[</span><span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_path_string'>path_string</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_path_regex'>path_regex</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="admin_only?-class_method">
  
    + (<tt>Boolean</tt>) <strong>admin_only?</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Helpers for access to the individual flag states.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


749
750
751</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 749</span>

<span class='kw'>def</span> <span class='id identifier rubyid_admin_only?'>admin_only?</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_const_get'>const_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>API_Flags</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='symbol'>:admin_only</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='kw'>false</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="allowed_roles-class_method">
  
    + (<tt>Object</tt>) <strong>allowed_roles</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Helpers for access to the &#39;verb class&#39; constants.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


728
729
730</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 728</span>

<span class='kw'>def</span> <span class='id identifier rubyid_allowed_roles'>allowed_roles</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_const_get'>const_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>AllowedRoles</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='op'>|</span> <span class='id identifier rubyid_k'>k</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="can_create_owner?-class_method">
  
    + (<tt>Boolean</tt>) <strong>can_create_owner?</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


752
753
754</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 752</span>

<span class='kw'>def</span> <span class='id identifier rubyid_can_create_owner?'>can_create_owner?</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_const_get'>const_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>API_Flags</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='symbol'>:can_create_owner</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='kw'>false</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="disallowed?-class_method">
  
    + (<tt>Boolean</tt>) <strong>disallowed?</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


755
756
757</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 755</span>

<span class='kw'>def</span> <span class='id identifier rubyid_disallowed?'>disallowed?</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_const_get'>const_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>API_Flags</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='symbol'>:disallowed</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='kw'>false</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="each-class_method">
  
    + (<tt>Object</tt>) <strong>each</strong>(&amp;block) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Needed for Enumerable (the registered endpoints are our list).</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


219
220
221</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 219</span>

<span class='kw'>def</span> <span class='id identifier rubyid_each'>each</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_path_string_map'>path_string_map</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="endpoint-class_method">
  
    + (<tt>Object</tt>) <strong>endpoint</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Pointer back to the endpoint for this verb.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


713
714
715</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 713</span>

<span class='kw'>def</span> <span class='id identifier rubyid_endpoint'>endpoint</span>
  <span class='kw'>return</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_ancestors'>ancestors</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_o'>o</span><span class='op'>|</span> <span class='id identifier rubyid_o'>o</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>%r!</span><span class='tstring_content'>(?:^|::)Endpoint_</span><span class='regexp_end'>!</span></span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="ep2verb-class_method">
  
    + (<tt>Object</tt>) <strong>ep2verb</strong>(req, &amp;block) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Turn an entrypoint into an HTTP verb (method)</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 375</span>

<span class='kw'>def</span> <span class='id identifier rubyid_ep2verb'>ep2verb</span><span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span><span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='comment'>#
</span>  <span class='comment'># No endpoints matched the URI?  D&#39;oh..
</span>  <span class='comment'>#
</span>  <span class='kw'>return</span> <span class='kw'>nil</span> <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span><span class='rparen'>)</span>
  <span class='comment'>#
</span>  <span class='comment'># Find the verb class for the endpoint that works for the request.
</span>  <span class='comment'>#
</span>  <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_tuple'>tuple</span><span class='op'>|</span>
    <span class='lparen'>(</span><span class='id identifier rubyid_regex'>regex</span><span class='comma'>,</span> <span class='id identifier rubyid_endpoint'>endpoint</span><span class='rparen'>)</span> <span class='op'>=</span> <span class='id identifier rubyid_tuple'>tuple</span>
    <span class='id identifier rubyid_klass'>klass</span> <span class='op'>=</span> <span class='id identifier rubyid_endpoint'>endpoint</span><span class='period'>.</span><span class='id identifier rubyid_verbs'>verbs</span><span class='lbracket'>[</span><span class='id identifier rubyid_req'>req</span><span class='period'>.</span><span class='id identifier rubyid_method'>method</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_upcase'>upcase</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='lparen'>(</span><span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span><span class='rparen'>)</span>
  <span class='rbrace'>}</span>
  <span class='comment'>#
</span>  <span class='comment'># #collect maintains the array length, so delete the nil elements.
</span>  <span class='comment'>#
</span>  <span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_compact!'>compact!</span>
  <span class='comment'>#
</span>  <span class='comment'># If there&#39;s nothing left, we found a matching endpoint, but the
</span>  <span class='comment'># HTTP method isn&#39;t supported for it.
</span>  <span class='comment'>#
</span>  <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='kw'>elsif</span> <span class='lparen'>(</span><span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>==</span> <span class='int'>1</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
  <span class='kw'>end</span>
  <span class='comment'>#
</span>  <span class='comment'># We&#39;ll either be returning a scalar or an array, depending on
</span>  <span class='comment'># the number of classes that matched the request.  There *should*
</span>  <span class='comment'># only be one, but that&#39;s for our caller to finesse.
</span>  <span class='comment'>#
</span>  <span class='kw'>return</span> <span class='id identifier rubyid_result'>result</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="find-class_method">
  
    + (<tt>Object</tt>) <strong>find</strong>(&amp;block) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>def select</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


320
321
322
323</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 320</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>?</span> <span class='kw'>nil</span> <span class='op'>:</span> <span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="flags-class_method">
  
    + (<tt>Object</tt>) <strong>flags</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Return an array of the flags set to &#39;true&#39; for the verb entry
point.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


742
743
744</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 742</span>

<span class='kw'>def</span> <span class='id identifier rubyid_flags'>flags</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_const_get'>const_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>API_Flags</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span><span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='id identifier rubyid_k'>k</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span> <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_compact'>compact</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="internal_only?-class_method">
  
    + (<tt>Boolean</tt>) <strong>internal_only?</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


758
759
760</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 758</span>

<span class='kw'>def</span> <span class='id identifier rubyid_internal_only?'>internal_only?</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_const_get'>const_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>API_Flags</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='symbol'>:internal_only</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='kw'>false</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="key?-class_method">
  
    + (<tt>Boolean</tt>) <strong>key?</strong>(key) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>def keys</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


341
342
343</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 341</span>

<span class='kw'>def</span> <span class='id identifier rubyid_key?'>key?</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_path_regex_map'>path_regex_map</span><span class='period'>.</span><span class='id identifier rubyid_key?'>key?</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_path_string_map'>path_string_map</span><span class='period'>.</span><span class='id identifier rubyid_key?'>key?</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="keys-class_method">
  
    + (<tt>Object</tt>) <strong>keys</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>def string_keys</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


337
338
339</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 337</span>

<span class='kw'>def</span> <span class='id identifier rubyid_keys'>keys</span>
  <span class='kw'>return</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_regex_keys'>regex_keys</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="method-class_method">
  
    + (<tt>Object</tt>) <strong>method</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


737
738
739</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 737</span>

<span class='kw'>def</span> <span class='id identifier rubyid_verb'>verb</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_const_get'>const_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Verb</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="path_regex-class_method">
  
    + (<tt>Object</tt>) <strong>path_regex</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Helper to fetch the URI regular expression for the endpoint. Just to avoid
using Foo::URI_Regex constant syntax, which can be a little confusing.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


425
426
427</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 425</span>

<span class='kw'>def</span> <span class='id identifier rubyid_path_regex'>path_regex</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_const_get'>const_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>URI_Regex</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="path_string-class_method">
  
    + (<tt>Object</tt>) <strong>path_string</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>As above, except it gets the raw pattern before it&#39;s turned into a
regex.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


433
434
435</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 433</span>

<span class='kw'>def</span> <span class='id identifier rubyid_path_string'>path_string</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_const_get'>const_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>URI_Regex_String</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pathparam-class_method">
  
    + (<tt>Object</tt>) <strong>pathparam</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Consult the map to obtain the canonical name for a parameter embedded in
the URI.</p>

<p>def pparam</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


418
419
420
421</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 418</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pparam'>pparam</span><span class='lparen'>(</span><span class='id identifier rubyid_name_p'>name_p</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_name_p'>name_p</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_const_get'>const_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>PathMap</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span> <span class='op'>||</span> <span class='id identifier rubyid_name'>name</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pparam-class_method">
  
    + (<tt>Object</tt>) <strong>pparam</strong>(name_p) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Consult the map to obtain the canonical name for a parameter embedded in
the URI.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


414
415
416
417</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 414</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pparam'>pparam</span><span class='lparen'>(</span><span class='id identifier rubyid_name_p'>name_p</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_name_p'>name_p</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_const_get'>const_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>PathMap</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span> <span class='op'>||</span> <span class='id identifier rubyid_name'>name</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="qparam-class_method">
  
    + (<tt>Object</tt>) <strong>qparam</strong>(name_p) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>See the explanation above for the pparam class method.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


720
721
722
723</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 720</span>

<span class='kw'>def</span> <span class='id identifier rubyid_qparam'>qparam</span><span class='lparen'>(</span><span class='id identifier rubyid_name_p'>name_p</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='id identifier rubyid_name_p'>name_p</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_const_get'>const_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>QueryMap</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>||</span> <span class='id identifier rubyid_name'>name</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="regex_keys-class_method">
  
    + (<tt>Object</tt>) <strong>regex_keys</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>def size</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


329
330
331</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 329</span>

<span class='kw'>def</span> <span class='id identifier rubyid_regex_keys'>regex_keys</span>
  <span class='kw'>return</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_path_regex_map'>path_regex_map</span><span class='period'>.</span><span class='id identifier rubyid_keys'>keys</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="select-class_method">
  
    + (<tt>nil</tt>, <tt>Array&lt;Hash&gt;</tt>) <strong>select</strong>(mode = :regex) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Override the Enumerable method because we don&#39;t fit perfectly.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>mode</span>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>:regex</tt>)</em>
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>nil</tt>, <tt>Array&lt;Hash&gt;</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


304
305
306
307
308
309
310
311
312
313
314
315
316
317
318</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 304</span>

<span class='kw'>def</span> <span class='id identifier rubyid_select'>select</span><span class='lparen'>(</span><span class='id identifier rubyid_mode'>mode</span><span class='op'>=</span><span class='symbol'>:regex</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='id identifier rubyid_mode'>mode</span><span class='period'>.</span><span class='id identifier rubyid_eql?'>eql?</span><span class='lparen'>(</span><span class='symbol'>:regex</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_path_regex_map'>path_regex_map</span> <span class='op'>:</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_path_string_map'>path_string_map</span>
  <span class='id identifier rubyid_interim'>interim</span> <span class='op'>=</span> <span class='id identifier rubyid_source'>source</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_regex'>regex</span><span class='comma'>,</span><span class='id identifier rubyid_endpoint'>endpoint</span><span class='op'>|</span>
    <span class='id identifier rubyid_match'>match</span> <span class='op'>=</span> <span class='kw'>yield</span><span class='lparen'>(</span><span class='id identifier rubyid_regex'>regex</span><span class='comma'>,</span> <span class='id identifier rubyid_endpoint'>endpoint</span><span class='rparen'>)</span>
  <span class='rbrace'>}</span>
  <span class='comment'>#
</span>  <span class='comment'># We now have an array or arrays.  Yuck.  Turn it back into an
</span>  <span class='comment'># array of hashes.
</span>  <span class='comment'>#
</span>  <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='kw'>while</span> <span class='lparen'>(</span><span class='id identifier rubyid_tuple'>tuple</span> <span class='op'>=</span> <span class='id identifier rubyid_interim'>interim</span><span class='period'>.</span><span class='id identifier rubyid_shift'>shift</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_result'>result</span> <span class='op'>&lt;&lt;</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_tuple'>tuple</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_tuple'>tuple</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span> <span class='rbrace'>}</span>
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_result'>result</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="size-class_method">
  
    + (<tt>Object</tt>) <strong>size</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>def find</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


325
326
327</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 325</span>

<span class='kw'>def</span> <span class='id identifier rubyid_size'>size</span>
  <span class='kw'>return</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_regex_map'>regex_map</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="string_keys-class_method">
  
    + (<tt>Object</tt>) <strong>string_keys</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>def regex_keys</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


333
334
335</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 333</span>

<span class='kw'>def</span> <span class='id identifier rubyid_string_keys'>string_keys</span>
  <span class='kw'>return</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_path_string_map'>path_string_map</span><span class='period'>.</span><span class='id identifier rubyid_keys'>keys</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="timelimit-class_method">
  
    + (<tt>Object</tt>) <strong>timelimit</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


731
732
733</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 731</span>

<span class='kw'>def</span> <span class='id identifier rubyid_timelimit'>timelimit</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_const_get'>const_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>TimeLimit</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="valid_response?-class_method">
  
    + (<tt>Boolean</tt>) <strong>valid_response?</strong>(rsp) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>def valid_responses</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


349
350
351
352
353
354
355
356
357
358
359
360</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 349</span>

<span class='kw'>def</span> <span class='id identifier rubyid_valid_response?'>valid_response?</span><span class='lparen'>(</span><span class='id identifier rubyid_rsp'>rsp</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_codes'>codes</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_const_get'>const_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>HTTPStatusCodes</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_codes'>codes</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_rsp'>rsp</span><span class='period'>.</span><span class='id identifier rubyid_kind_of?'>kind_of?</span><span class='lparen'>(</span><span class='const'>Integer</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_code'>code</span> <span class='op'>=</span> <span class='id identifier rubyid_rsp'>rsp</span>
  <span class='kw'>elsif</span> <span class='lparen'>(</span><span class='id identifier rubyid_rsp'>rsp</span><span class='period'>.</span><span class='id identifier rubyid_kind_of?'>kind_of?</span><span class='lparen'>(</span><span class='const'>String</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_code'>code</span> <span class='op'>=</span> <span class='id identifier rubyid_rsp'>rsp</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
  <span class='kw'>elsif</span> <span class='lparen'>(</span><span class='id identifier rubyid_rsp'>rsp</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:code</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_code'>code</span> <span class='op'>=</span> <span class='id identifier rubyid_rsp'>rsp</span><span class='period'>.</span><span class='id identifier rubyid_code'>code</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_codes'>codes</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_code'>code</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="valid_responses-class_method">
  
    + (<tt>Object</tt>) <strong>valid_responses</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>def key?</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


345
346
347</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 345</span>

<span class='kw'>def</span> <span class='id identifier rubyid_valid_responses'>valid_responses</span>
  <span class='kw'>return</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_const_get'>const_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>HTTPStatusCodes</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="verb-class_method">
  
    + (<tt>Object</tt>) <strong>verb</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


734
735
736</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 734</span>

<span class='kw'>def</span> <span class='id identifier rubyid_verb'>verb</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_const_get'>const_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Verb</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="verbs-class_method">
  
    + (<tt>Object</tt>) <strong>verbs</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Another helper to access the map of available verb classes for the
endpoint.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


441
442
443</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 441</span>

<span class='kw'>def</span> <span class='id identifier rubyid_verbs'>verbs</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_const_get'>const_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Verbs</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="admin_only?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>admin_only?</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Questions about access to the verb/entrypoint</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


878
879
880</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 878</span>

<span class='kw'>def</span> <span class='id identifier rubyid_admin_only?'>admin_only?</span>
  <span class='kw'>return</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_admin_only?'>admin_only?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="allowed_roles-instance_method">
  
    - (<tt>Object</tt>) <strong>allowed_roles</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


859
860
861</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 859</span>

<span class='kw'>def</span> <span class='id identifier rubyid_allowed_roles'>allowed_roles</span>
  <span class='kw'>return</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_allowed_roles'>allowed_roles</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="basic_auth-instance_method">
  
    - (<tt>Object</tt>) <strong>basic_auth</strong>(*args_p) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'>CandlepinAPI#basic_auth</span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


461
462
463
464
465
466
467
468
469
470</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 461</span>

<span class='kw'>def</span> <span class='id identifier rubyid_basic_auth'>basic_auth</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args_p'>args_p</span><span class='rparen'>)</span>
  <span class='kw'>unless</span> <span class='lparen'>(</span><span class='lbracket'>[</span><span class='int'>0</span><span class='comma'>,</span> <span class='int'>2</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_args_p'>args_p</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>wrong number of arguments </span><span class='tstring_end'>&#39;</span></span> <span class='op'>+</span>
                            <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_args_p'>args_p</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span><span class='embexpr_end'>}</span><span class='tstring_content'> for 0 or 2)</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_args_p'>args_p</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>==</span> <span class='int'>2</span><span class='rparen'>)</span>
    <span class='ivar'>@basic_auth_credentials</span> <span class='op'>=</span> <span class='id identifier rubyid_args_p'>args_p</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='ivar'>@basic_auth_credentials</span> <span class='op'>||</span> <span class='const'>CandlepinAPI</span><span class='period'>.</span><span class='id identifier rubyid_basic_auth'>basic_auth</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="basic_auth=-instance_method">
  
    - (<tt>Object</tt>) <strong>basic_auth=</strong>(username, password) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'>CandlepinAPI#basic_auth=</span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


473
474
475</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 473</span>

<span class='kw'>def</span> <span class='id identifier rubyid_basic_auth='>basic_auth=</span><span class='lparen'>(</span><span class='id identifier rubyid_username'>username</span><span class='comma'>,</span> <span class='id identifier rubyid_password'>password</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_basic_auth'>basic_auth</span><span class='lparen'>(</span><span class='id identifier rubyid_username'>username</span><span class='comma'>,</span> <span class='id identifier rubyid_password'>password</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="basic_auth_field-instance_method">
  
    - (<tt>Object</tt>) <strong>basic_auth_field</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


910
911
912
913
914
915</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 910</span>

<span class='kw'>def</span> <span class='id identifier rubyid_basic_auth_field'>basic_auth_field</span>
  <span class='kw'>return</span> <span class='kw'>nil</span> <span class='kw'>unless</span> <span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_has_basic_auth?'>has_basic_auth?</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_token'>token</span> <span class='op'>=</span> <span class='const'>AuthHelper_Basic</span><span class='period'>.</span><span class='id identifier rubyid_encode_credentials'>encode_credentials</span><span class='lparen'>(</span><span class='ivar'>@auth_username</span><span class='comma'>,</span>
                                              <span class='ivar'>@auth_password</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_token'>token</span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="can_create_owner?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>can_create_owner?</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


881
882
883</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 881</span>

<span class='kw'>def</span> <span class='id identifier rubyid_can_create_owner?'>can_create_owner?</span>
  <span class='kw'>return</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_can_create_owner?'>can_create_owner?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="disallowed?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>disallowed?</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


884
885
886</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 884</span>

<span class='kw'>def</span> <span class='id identifier rubyid_disallowed?'>disallowed?</span>
  <span class='kw'>return</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_disallowed?'>disallowed?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="endpoint-instance_method">
  
    - (<tt>Object</tt>) <strong>endpoint</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


863
864
865</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 863</span>

<span class='kw'>def</span> <span class='id identifier rubyid_endpoint'>endpoint</span>
  <span class='kw'>return</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_endpoint'>endpoint</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="extract_uri_info-instance_method">
  
    - (<tt>Object</tt>) <strong>extract_uri_info</strong>(path) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>End of def initialize</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


948
949
950
951
952
953
954
955
956
957
958
959
960
961
962
963
964
965
966
967
968
969
970
971
972
973
974
975
976
977
978
979</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 948</span>

<span class='kw'>def</span> <span class='id identifier rubyid_extract_uri_info'>extract_uri_info</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_uri_parsed'>uri_parsed</span> <span class='op'>=</span> <span class='const'>URI</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_norm_path'>norm_path</span> <span class='op'>=</span> <span class='id identifier rubyid_normalise_path'>normalise_path</span><span class='lparen'>(</span><span class='id identifier rubyid_uri_parsed'>uri_parsed</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span>
  <span class='comment'>#
</span>  <span class='comment'># Extract any values embedded in the URI.  These are the
</span>  <span class='comment'># &#39;pathparams&#39;, and their names are represented as *symbols* in
</span>  <span class='comment'># the various structures.
</span>  <span class='comment'>#
</span>  <span class='kw'>unless</span> <span class='lparen'>(</span><span class='lparen'>(</span><span class='id identifier rubyid_pnames'>pnames</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_const_get'>const_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>PathParams</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_m'>m</span> <span class='op'>=</span> <span class='id identifier rubyid_norm_path'>norm_path</span><span class='period'>.</span><span class='id identifier rubyid_match'>match</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_const_get'>const_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>URI_Regex</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_pnames'>pnames</span><span class='period'>.</span><span class='id identifier rubyid_each_with_index'>each_with_index</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_pname'>pname</span><span class='comma'>,</span><span class='id identifier rubyid_poz'>poz</span><span class='op'>|</span>
      <span class='ivar'>@pathparams</span><span class='lbracket'>[</span><span class='id identifier rubyid_pname'>pname</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_m'>m</span><span class='period'>.</span><span class='id identifier rubyid_captures'>captures</span><span class='lbracket'>[</span><span class='id identifier rubyid_poz'>poz</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid___send__'>__send__</span><span class='lparen'>(</span><span class='lparen'>(</span><span class='id identifier rubyid_pname'>pname</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>=</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span><span class='comma'>,</span> <span class='id identifier rubyid_m'>m</span><span class='period'>.</span><span class='id identifier rubyid_captures'>captures</span><span class='lbracket'>[</span><span class='id identifier rubyid_poz'>poz</span><span class='rbracket'>]</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='comment'>#
</span>  <span class='comment'># Repeat for any query-string parameters.
</span>  <span class='comment'># Query parameter names are strings, not symbols.
</span>  <span class='comment'>#
</span>  <span class='kw'>unless</span> <span class='lparen'>(</span><span class='lparen'>(</span><span class='id identifier rubyid_pnames'>pnames</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_const_get'>const_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>QueryParams</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_qtuples'>qtuples</span> <span class='op'>=</span> <span class='id identifier rubyid_uri_parsed'>uri_parsed</span><span class='period'>.</span><span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>%r!</span><span class='tstring_content'>[&amp;;]</span><span class='regexp_end'>!</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_qval'>qval</span> <span class='op'>=</span> <span class='id identifier rubyid_qtuples'>qtuples</span><span class='period'>.</span><span class='id identifier rubyid_inject'>inject</span><span class='lparen'>(</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_memo'>memo</span><span class='comma'>,</span><span class='id identifier rubyid_tuple'>tuple</span><span class='op'>|</span>
      <span class='lparen'>(</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span> <span class='op'>=</span> <span class='id identifier rubyid_tuple'>tuple</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>%r!</span><span class='tstring_content'>=</span><span class='regexp_end'>!</span></span><span class='comma'>,</span> <span class='int'>2</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_memo'>memo</span><span class='lbracket'>[</span><span class='id identifier rubyid_k'>k</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_v'>v</span>
      <span class='id identifier rubyid_memo'>memo</span>
    <span class='rbrace'>}</span>
    <span class='id identifier rubyid_pnames'>pnames</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_pname'>pname</span><span class='op'>|</span>
      <span class='ivar'>@queryparams</span><span class='lbracket'>[</span><span class='id identifier rubyid_pname'>pname</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_qval'>qval</span><span class='lbracket'>[</span><span class='id identifier rubyid_pname'>pname</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid___send__'>__send__</span><span class='lparen'>(</span><span class='lparen'>(</span><span class='id identifier rubyid_pname'>pname</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>=</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span><span class='comma'>,</span> <span class='id identifier rubyid_qval'>qval</span><span class='lbracket'>[</span><span class='id identifier rubyid_pname'>pname</span><span class='rbracket'>]</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="flags-instance_method">
  
    - (<tt>Object</tt>) <strong>flags</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


867
868
869</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 867</span>

<span class='kw'>def</span> <span class='id identifier rubyid_flags'>flags</span>
  <span class='kw'>return</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_flags'>flags</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="has_basic_auth?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>has_basic_auth?</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


906
907
908</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 906</span>

<span class='kw'>def</span> <span class='id identifier rubyid_has_basic_auth?'>has_basic_auth?</span>
  <span class='kw'>return</span> <span class='lparen'>(</span><span class='op'>!</span> <span class='lparen'>(</span><span class='ivar'>@auth_username</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='ivar'>@auth_password</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span><span class='rparen'>)</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="have_params?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>have_params?</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>def missing_params</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


642
643
644</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 642</span>

<span class='kw'>def</span> <span class='id identifier rubyid_have_params?'>have_params?</span>
  <span class='kw'>return</span> <span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_missing_params'>missing_params</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="internal_only?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>internal_only?</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


887
888
889</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 887</span>

<span class='kw'>def</span> <span class='id identifier rubyid_internal_only?'>internal_only?</span>
  <span class='kw'>return</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_internal_only?'>internal_only?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="is_external?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>is_external?</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Return true if the request header field indicates this request came from
Outside.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1090
1091
1092</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 1090</span>

<span class='kw'>def</span> <span class='id identifier rubyid_is_external?'>is_external?</span>
  <span class='kw'>return</span> <span class='lparen'>(</span><span class='ivar'>@request</span><span class='period'>.</span><span class='id identifier rubyid_headers'>headers</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>HTTP_CANDLEPIN_CONTEXT</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>External</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="is_trusted_origin?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>is_trusted_origin?</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Abstract the check for a trusted IP origin into a do-nothing-else method.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1098
1099
1100
1101
1102
1103
1104
1105
1106
1107
1108
1109
1110
1111
1112</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 1098</span>

<span class='kw'>def</span> <span class='id identifier rubyid_is_trusted_origin?'>is_trusted_origin?</span>
  <span class='comment'>#
</span>  <span class='comment'># We&#39;re paranoid -- there are only a few hosts we intend to trust,
</span>  <span class='comment'># and they&#39;re all us.  (There remains a danger if the host we&#39;re
</span>  <span class='comment'># trusting is proxying an external request and didn&#39;t sanitise the
</span>  <span class='comment'># original request header -- essentially passing us a
</span>  <span class='comment'># potentially-spoofed CP-User value.
</span>  <span class='comment'>#
</span>  <span class='id identifier rubyid_trusted_sources'>trusted_sources</span> <span class='op'>=</span> <span class='lbracket'>[</span>
                     <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>127.0.0.1</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='comment'># IPV4
</span>                     <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>::1</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>       <span class='comment'># IPV6
</span>                     <span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>SERVER_ADDR</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
                    <span class='rbracket'>]</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_trusted_sources'>trusted_sources</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='ivar'>@request</span><span class='period'>.</span><span class='id identifier rubyid_ip'>ip</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="is_trusted_request?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>is_trusted_request?</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Is this a completely trusted connexion?</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1077
1078
1079
1080
1081
1082
1083
1084</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 1077</span>

<span class='kw'>def</span> <span class='id identifier rubyid_is_trusted_request?'>is_trusted_request?</span>
  <span class='comment'>#
</span>  <span class='comment'># Shortest path first..  if the client knows the admin credentials,
</span>  <span class='comment'># we have to trust it.
</span>  <span class='comment'>#
</span>  <span class='kw'>return</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_role_is_admin?'>role_is_admin?</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>false</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="load_from_nethttp-instance_method">
  
    - (<tt>Object</tt>) <strong>load_from_nethttp</strong>(req) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>End of extract_uri_info</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


981
982
983
984
985
986
987
988
989
990
991
992
993
994
995
996
997
998
999
1000
1001
1002
1003
1004
1005
1006
1007
1008
1009
1010
1011
1012
1013
1014
1015
1016
1017
1018
1019
1020
1021
1022
1023
1024
1025
1026
1027
1028</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 981</span>

<span class='kw'>def</span> <span class='id identifier rubyid_load_from_nethttp'>load_from_nethttp</span><span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='rparen'>)</span>
<span class='id identifier rubyid_debugger'>debugger</span>
  <span class='comment'>#
</span>  <span class='comment'># Find any permutation of spelling for the CP-Consumer and CP-User
</span>  <span class='comment'># header fields.
</span>  <span class='comment'>#
</span>  <span class='qwords_beg'>%w( </span><span class='tstring_content'>CP-Consumer</span><span class='words_sep'> </span><span class='tstring_content'>CP-User</span><span class='words_sep'> )</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_canon_hfield'>canon_hfield</span><span class='op'>|</span>
    <span class='id identifier rubyid_ivar'>ivar</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>@</span><span class='tstring_end'>&#39;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_canon_hfield'>canon_hfield</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>%r!</span><span class='tstring_content'>-</span><span class='regexp_end'>!</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>_</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_pats'>pats</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_pats'>pats</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_canon_hfield'>canon_hfield</span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>%r!</span><span class='tstring_content'>-</span><span class='regexp_end'>!</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>_</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_pats'>pats</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_canon_hfield'>canon_hfield</span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>%r!</span><span class='tstring_content'>_</span><span class='regexp_end'>!</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_pats'>pats</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>HTTP_</span><span class='tstring_end'>&#39;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_canon_hfield'>canon_hfield</span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>%r!</span><span class='tstring_content'>-</span><span class='regexp_end'>!</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>_</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_pats'>pats</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>HTTP_</span><span class='tstring_end'>&#39;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_canon_hfield'>canon_hfield</span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>%r!</span><span class='tstring_content'>_</span><span class='regexp_end'>!</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_pats'>pats</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_pat'>pat</span><span class='op'>|</span>
      <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='period'>.</span><span class='id identifier rubyid_key?'>key?</span><span class='lparen'>(</span><span class='id identifier rubyid_pat'>pat</span><span class='rparen'>)</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_instance_variable_set'>instance_variable_set</span><span class='lparen'>(</span><span class='id identifier rubyid_ivar'>ivar</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span><span class='comma'>,</span> <span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='id identifier rubyid_pat'>pat</span><span class='rbracket'>]</span><span class='rparen'>)</span>
        <span class='kw'>break</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='comment'>#
</span>  <span class='comment'># If the entry point has any defined path parameters, suck the
</span>  <span class='comment'># values for them into our instance.
</span>  <span class='comment'>#
</span>  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_extract_uri_info'>extract_uri_info</span><span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span>
  <span class='comment'>#
</span>  <span class='comment'># Check for auth.
</span>  <span class='comment'>#
</span>  <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_authtoken'>authtoken</span> <span class='op'>=</span> <span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Authorization</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_encoded_cred'>encoded_cred</span> <span class='op'>=</span> <span class='id identifier rubyid_authtoken'>authtoken</span><span class='period'>.</span><span class='id identifier rubyid_sub'>sub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>%r!</span><span class='tstring_content'>^Basic\s+</span><span class='regexp_end'>!i</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_encoded_cred'>encoded_cred</span> <span class='op'>!=</span> <span class='id identifier rubyid_authtoken'>authtoken</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_decoded_cred'>decoded_cred</span> <span class='op'>=</span> <span class='const'>Base64</span><span class='period'>.</span><span class='id identifier rubyid_decode64'>decode64</span><span class='lparen'>(</span><span class='id identifier rubyid_encoded_cred'>encoded_cred</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span><span class='period'>.</span><span class='id identifier rubyid_strip'>strip</span>
      <span class='lparen'>(</span><span class='ivar'>@auth_username</span><span class='comma'>,</span> <span class='ivar'>@auth_password</span><span class='rparen'>)</span> <span class='op'>=</span> <span class='id identifier rubyid_decoded_cred'>decoded_cred</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>%r!</span><span class='tstring_content'>:</span><span class='regexp_end'>!</span></span><span class='rparen'>)</span>
      <span class='kw'>if</span> <span class='lparen'>(</span><span class='ivar'>@auth_username</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span> <span class='op'>||</span> <span class='ivar'>@auth_password</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span><span class='rparen'>)</span>
        <span class='comment'>#
</span>        <span class='comment'># If either is nil or an empty string, make them both nil.
</span>        <span class='comment'># This might break on a blank password, but oh well.
</span>        <span class='comment'>#
</span>        <span class='ivar'>@auth_username</span> <span class='op'>=</span> <span class='kw'>nil</span>
        <span class='ivar'>@auth_password</span> <span class='op'>=</span> <span class='kw'>nil</span>
      <span class='kw'>else</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_check_for_admin'>check_for_admin</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='ivar'>@body</span> <span class='op'>=</span> <span class='const'>Proc</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_req'>req</span><span class='period'>.</span><span class='id identifier rubyid_body'>body</span> <span class='rbrace'>}</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_req'>req</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="load_from_rackrequest-instance_method">
  
    - (<tt>Object</tt>) <strong>load_from_rackrequest</strong>(req) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>End of def load_from_nethttp</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1030
1031
1032
1033
1034
1035
1036
1037
1038
1039
1040
1041
1042
1043
1044
1045
1046
1047
1048
1049
1050
1051
1052
1053
1054
1055
1056
1057
1058
1059
1060
1061
1062
1063
1064
1065
1066
1067
1068
1069
1070
1071
1072</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 1030</span>

<span class='kw'>def</span> <span class='id identifier rubyid_load_from_rackrequest'>load_from_rackrequest</span><span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='rparen'>)</span>
  <span class='comment'>#
</span>  <span class='comment'># Find any permutation of spelling for the CP-Consumer and CP-User
</span>  <span class='comment'># header fields.  This is a bit complicated because the header
</span>  <span class='comment'># fields are kept in a hash and may or may not be case-sensitive.
</span>  <span class='comment'>#
</span>  <span class='qwords_beg'>%w( </span><span class='tstring_content'>CP-Consumer</span><span class='words_sep'> </span><span class='tstring_content'>CP-User</span><span class='words_sep'> )</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_canon_hfield'>canon_hfield</span><span class='op'>|</span>
    <span class='id identifier rubyid_key'>key</span> <span class='op'>=</span> <span class='id identifier rubyid_re_str'>re_str</span> <span class='op'>=</span> <span class='id identifier rubyid_canon_hfield'>canon_hfield</span>
    <span class='id identifier rubyid_ivar'>ivar</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>@</span><span class='tstring_end'>&#39;</span></span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_canon_hfield'>canon_hfield</span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>%r!</span><span class='tstring_content'>-</span><span class='regexp_end'>!</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>_</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span>
    <span class='id identifier rubyid_pats'>pats</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_pats'>pats</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='regexp_beg'>%r!</span><span class='tstring_content'>^(</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_re_str'>re_str</span><span class='embexpr_end'>}</span><span class='tstring_content'>)$</span><span class='regexp_end'>!i</span></span>
    <span class='id identifier rubyid_pats'>pats</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='regexp_beg'>%r!</span><span class='tstring_content'>^(</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_re_str'>re_str</span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>%r!</span><span class='tstring_content'>-</span><span class='regexp_end'>!</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>[-_]</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>)$</span><span class='regexp_end'>!i</span></span>
    <span class='id identifier rubyid_pats'>pats</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='regexp_beg'>%r!</span><span class='tstring_content'>^(HTTP_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_re_str'>re_str</span><span class='period'>.</span><span class='id identifier rubyid_gsub'>gsub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>%r!</span><span class='tstring_content'>-</span><span class='regexp_end'>!</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>[-_]</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>)$</span><span class='regexp_end'>!i</span></span>
    <span class='id identifier rubyid_pats'>pats</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_re_pat'>re_pat</span><span class='op'>|</span>
      <span class='kw'>unless</span> <span class='lparen'>(</span><span class='lparen'>(</span><span class='id identifier rubyid_m'>m</span> <span class='op'>=</span> <span class='id identifier rubyid_req'>req</span><span class='period'>.</span><span class='id identifier rubyid_env'>env</span><span class='period'>.</span><span class='id identifier rubyid_keys'>keys</span><span class='period'>.</span><span class='id identifier rubyid_grep'>grep</span><span class='lparen'>(</span><span class='id identifier rubyid_re_pat'>re_pat</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_key'>key</span> <span class='op'>=</span> <span class='id identifier rubyid_m'>m</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
        <span class='id identifier rubyid_instance_variable_set'>instance_variable_set</span><span class='lparen'>(</span><span class='id identifier rubyid_ivar'>ivar</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span><span class='comma'>,</span> <span class='id identifier rubyid_req'>req</span><span class='period'>.</span><span class='id identifier rubyid_env'>env</span><span class='lbracket'>[</span><span class='id identifier rubyid_key'>key</span><span class='rbracket'>]</span><span class='rparen'>)</span>
        <span class='kw'>break</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='comment'>#
</span>  <span class='comment'># Use our helper to get fields from the URI.
</span>  <span class='comment'>#
</span>  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_extract_uri_info'>extract_uri_info</span><span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span>
  <span class='comment'>#
</span>  <span class='comment'># Any query-string parameters are directly accessible from the
</span>  <span class='comment'># request.
</span>  <span class='comment'>#
</span>  <span class='kw'>unless</span> <span class='lparen'>(</span><span class='lparen'>(</span><span class='id identifier rubyid_pnames'>pnames</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_const_get'>const_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>QueryParams</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_pnames'>pnames</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_pname'>pname</span><span class='op'>|</span>
      <span class='ivar'>@queryparams</span><span class='lbracket'>[</span><span class='id identifier rubyid_pname'>pname</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='id identifier rubyid_pname'>pname</span><span class='rbracket'>]</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid___send__'>__send__</span><span class='lparen'>(</span><span class='lparen'>(</span><span class='id identifier rubyid_pname'>pname</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>=</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span><span class='comma'>,</span> <span class='id identifier rubyid_req'>req</span><span class='lbracket'>[</span><span class='id identifier rubyid_pname'>pname</span><span class='rbracket'>]</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>unless</span> <span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='period'>.</span><span class='id identifier rubyid_headers'>headers</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>HTTP_AUTHORIZATION</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_cred'>cred</span> <span class='op'>=</span> <span class='const'>AuthHelper_Basic</span><span class='period'>.</span><span class='id identifier rubyid_user_name_and_password'>user_name_and_password</span><span class='lparen'>(</span><span class='id identifier rubyid_req'>req</span><span class='rparen'>)</span>
    <span class='lparen'>(</span><span class='ivar'>@auth_username</span><span class='comma'>,</span> <span class='ivar'>@auth_password</span><span class='rparen'>)</span> <span class='op'>=</span> <span class='id identifier rubyid_cred'>cred</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_check_for_admin'>check_for_admin</span>
  <span class='kw'>end</span>
  <span class='ivar'>@body</span> <span class='op'>=</span> <span class='const'>Proc</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_req'>req</span><span class='period'>.</span><span class='id identifier rubyid_body'>body</span> <span class='rbrace'>}</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_req'>req</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="load_variables_from_trusted_uri-instance_method">
  
    - (<tt>Object</tt>) <strong>load_variables_from_trusted_uri</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>We can trust the values in the URI and the query string; use them if we
don&#39;t already have better ones.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1118
1119
1120
1121
1122
1123
1124
1125
1126
1127
1128
1129
1130</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 1118</span>

<span class='kw'>def</span> <span class='id identifier rubyid_load_variables_from_trusted_uri'>load_variables_from_trusted_uri</span>
  <span class='comment'>#
</span>  <span class='comment'># When trusted, the order of preference is most volatile (query-string)
</span>  <span class='comment'># to least (URI elements, then header fields).
</span>  <span class='comment'>#
</span>  <span class='ivar'>@consumer_uuid</span> <span class='op'>||=</span> <span class='lparen'>(</span><span class='ivar'>@queryparams</span><span class='lbracket'>[</span><span class='symbol'>:consumer_uuid</span><span class='rbracket'>]</span> \
                      <span class='op'>||</span> <span class='ivar'>@pathparams</span><span class='lbracket'>[</span><span class='symbol'>:consumer_uuid</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='ivar'>@org_id</span> <span class='op'>||=</span> <span class='ivar'>@queryparams</span><span class='lbracket'>[</span><span class='symbol'>:org_id</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='ivar'>@pathparams</span><span class='lbracket'>[</span><span class='symbol'>:org_id</span><span class='rbracket'>]</span>
  <span class='ivar'>@owner_id</span> <span class='op'>||=</span> <span class='ivar'>@queryparams</span><span class='lbracket'>[</span><span class='symbol'>:owner_id</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='ivar'>@pathparams</span><span class='lbracket'>[</span><span class='symbol'>:owner_id</span><span class='rbracket'>]</span>
  <span class='ivar'>@entitlement_id</span> <span class='op'>||=</span> <span class='lparen'>(</span><span class='ivar'>@queryparams</span><span class='lbracket'>[</span><span class='symbol'>:entitlement_id</span><span class='rbracket'>]</span> \
                       <span class='op'>||</span> <span class='ivar'>@pathparams</span><span class='lbracket'>[</span><span class='symbol'>:entitlement_id</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='ivar'>@pool_id</span> <span class='op'>||=</span> <span class='ivar'>@queryparams</span><span class='lbracket'>[</span><span class='symbol'>:pool_id</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='ivar'>@pathparams</span><span class='lbracket'>[</span><span class='symbol'>:pool_id</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="missing_params-instance_method">
  
    - (<tt>Object</tt>) <strong>missing_params</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Stuff relating to a specific method/verb applied to the endpoint. These are
the bits constituting the &#39;verb class&#39; aspect of this shared class
definition.</p>

<p>#missing_params and #have_params? are intended as helpers when building a
request.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


633
634
635
636
637
638
639
640</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 633</span>

<span class='kw'>def</span> <span class='id identifier rubyid_missing_params'>missing_params</span>
  <span class='id identifier rubyid_pparam_list'>pparam_list</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_const_get'>const_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>PathParams</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='lbracket'>[</span><span class='rbracket'>]</span> <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_pparam_list'>pparam_list</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_pparam_list'>pparam_list</span> <span class='op'>=</span> <span class='id identifier rubyid_pparam_list'>pparam_list</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_ppname'>ppname</span><span class='op'>|</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_const_get'>const_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>PathMap</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='id identifier rubyid_ppname'>ppname</span><span class='rbracket'>]</span>
  <span class='rbrace'>}</span>
  <span class='kw'>return</span> <span class='lparen'>(</span><span class='id identifier rubyid_pparam_list'>pparam_list</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid___send__'>__send__</span><span class='lparen'>(</span><span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='rbrace'>}</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pparam-instance_method">
  
    - (<tt>Object</tt>) <strong>pparam</strong>(name) 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='path_param-instance_method'>path_param</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Instance methods that simply makes the class methods available at the
object level.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


608
609
610</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 608</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pparam'>pparam</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_pparam'>pparam</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="qparam-instance_method">
  
    - (<tt>Object</tt>) <strong>qparam</strong>(name) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Instance method for the query parameter name canonicalisation. See #pparam
above.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


772
773
774</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 772</span>

<span class='kw'>def</span> <span class='id identifier rubyid_qparam'>qparam</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_qparam'>qparam</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="role_is_admin!-instance_method">
  
    - (<tt>Object</tt>) <strong>role_is_admin!</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


898
899
900
901
902
903
904</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 898</span>

<span class='kw'>def</span> <span class='id identifier rubyid_role_is_admin!'>role_is_admin!</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_get_admin_credentials'>get_admin_credentials</span>
  <span class='ivar'>@auth_username</span> <span class='op'>=</span> <span class='ivar'>@admin_username</span>
  <span class='ivar'>@auth_password</span> <span class='op'>=</span> <span class='ivar'>@admin_password</span>
  <span class='id identifier rubyid_check_for_admin'>check_for_admin</span>
  <span class='kw'>return</span> <span class='kw'>true</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="role_is_admin?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>role_is_admin?</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Questions about the request this object represents.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


894
895
896</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 894</span>

<span class='kw'>def</span> <span class='id identifier rubyid_role_is_admin?'>role_is_admin?</span>
  <span class='kw'>return</span> <span class='ivar'>@role</span><span class='period'>.</span><span class='id identifier rubyid_eql?'>eql?</span><span class='lparen'>(</span><span class='symbol'>:SUPER_ADMIN</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="run_checks-instance_method">
  
    - (<tt>Object</tt>) <strong>run_checks</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>End of def load_variables_from_trusted_uri</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1132
1133
1134
1135
1136
1137
1138
1139
1140
1141
1142
1143
1144
1145
1146
1147
1148
1149</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 1132</span>

<span class='kw'>def</span> <span class='id identifier rubyid_run_checks'>run_checks</span>
  <span class='comment'>#
</span>  <span class='comment'># We never, never, *ever* want the SUPER_ADMIN basic-auth credentials
</span>  <span class='comment'># to be used from Outside.
</span>  <span class='comment'>#
</span>  <span class='kw'>if</span> <span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_is_external?'>is_external?</span><span class='rparen'>)</span>
    <span class='comment'>#
</span>    <span class='comment'># Are the admin credentials being used from Outside?
</span>    <span class='comment'>#
</span>    <span class='kw'>if</span> <span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_role_is_admin?'>role_is_admin?</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_log_event'>log_event</span><span class='lparen'>(</span><span class='symbol'>:warn</span><span class='comma'>,</span>
                <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Attempt to use admin credentials via the external context!</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
                <span class='symbol'>:run_checks</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_spoor'>spoor</span><span class='lparen'>(</span><span class='symbol'>:event</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Rejecting external request using SUPER_ADMIN role</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'>BadCredentialsException</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Not authorised for this operation</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="server_uri-instance_method">
  
    - (<tt>Object</tt>) <strong>server_uri</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'>CandlepinAPI#server_uri</span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


483
484
485
486
487
488
489</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 483</span>

<span class='kw'>def</span> <span class='id identifier rubyid_server_uri'>server_uri</span>
  <span class='id identifier rubyid_ancestry'>ancestry</span> <span class='op'>=</span> <span class='lbracket'>[</span> <span class='kw'>self</span><span class='comma'>,</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_ancestors'>ancestors</span> <span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_flatten'>flatten</span>
  <span class='id identifier rubyid_klass'>klass</span> <span class='op'>=</span> <span class='id identifier rubyid_ancestry'>ancestry</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_anc'>anc</span><span class='op'>|</span>
    <span class='id identifier rubyid_anc'>anc</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:server_uri</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_anc'>anc</span><span class='period'>.</span><span class='id identifier rubyid_instance_variable_get'>instance_variable_get</span><span class='lparen'>(</span><span class='symbol'>:@server_uri</span><span class='rparen'>)</span>
  <span class='rbrace'>}</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>?</span> <span class='kw'>nil</span> <span class='op'>:</span> <span class='id identifier rubyid_klass'>klass</span><span class='period'>.</span><span class='id identifier rubyid_instance_variable_get'>instance_variable_get</span><span class='lparen'>(</span><span class='symbol'>:@server_uri</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="server_uri=-instance_method">
  
    - (<tt>Object</tt>) <strong>server_uri=</strong>(uri) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'>CandlepinAPI#server_uri=</span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


478
479
480</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 478</span>

<span class='kw'>def</span> <span class='id identifier rubyid_server_uri='>server_uri=</span><span class='lparen'>(</span><span class='id identifier rubyid_uri'>uri</span><span class='rparen'>)</span>
  <span class='ivar'>@server_uri</span> <span class='op'>=</span> <span class='id identifier rubyid_uri'>uri</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="submit-instance_method">
  
    - (<tt>Object</tt>) <strong>submit</strong>(options_p = {}) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>def server_uri</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


491
492
493
494
495
496
497
498
499
500
501
502
503
504
505
506
507
508
509
510
511
512
513
514
515
516
517
518
519
520
521
522
523
524
525
526
527
528
529
530
531
532
533
534
535
536
537
538
539
540
541
542
543</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 491</span>

<span class='kw'>def</span> <span class='id identifier rubyid_submit'>submit</span><span class='lparen'>(</span><span class='id identifier rubyid_options_p'>options_p</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='id identifier rubyid_options_p'>options_p</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
  <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span><span class='id identifier rubyid_val'>val</span><span class='op'>|</span>
    <span class='id identifier rubyid_k_sym'>k_sym</span> <span class='op'>=</span> <span class='id identifier rubyid_k'>k</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span>
    <span class='id identifier rubyid_k_str'>k_str</span> <span class='op'>=</span> <span class='id identifier rubyid_k'>k</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
    <span class='kw'>if</span> <span class='lparen'>(</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_const_defined?'>const_defined?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>QueryParams</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> \
         <span class='op'>&amp;&amp;</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_const_get'>const_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>QueryParams</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_k_str'>k_str</span><span class='rparen'>)</span><span class='rparen'>)</span> \
        <span class='op'>||</span> <span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_const_defined?'>const_defined?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>PathParams</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> \
            <span class='op'>&amp;&amp;</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_const_get'>const_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>PathParams</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_k_str'>k_str</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='rparen'>)</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='lparen'>(</span><span class='id identifier rubyid_k_str'>k_str</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>=</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span><span class='comma'>,</span> <span class='id identifier rubyid_val'>val</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid_k'>k</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>unless</span> <span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_have_params?'>have_params?</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>CandlepinAPI</span><span class='op'>::</span><span class='const'>APIError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>missing required parameters: </span><span class='tstring_end'>&#39;</span></span> <span class='op'>+</span>
                                     <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_missing_params'>missing_params</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='kw'>unless</span> <span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_server_uri'>server_uri</span><span class='period'>.</span><span class='id identifier rubyid_kind_of?'>kind_of?</span><span class='lparen'>(</span><span class='const'>String</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>CandlepinAPI</span><span class='op'>::</span><span class='const'>APIError</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>no server_uri specified </span><span class='tstring_end'>&#39;</span></span> <span class='op'>+</span>
                                     <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>for request submission</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_uri'>uri</span> <span class='op'>=</span> <span class='const'>URI</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>%r!</span><span class='tstring_content'>\s+</span><span class='regexp_end'>!</span></span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rqclass'>rqclass</span> <span class='op'>=</span> <span class='const'>Net</span><span class='op'>::</span><span class='const'>HTTP</span><span class='period'>.</span><span class='id identifier rubyid_module_eval'>module_eval</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_const_get'>const_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Verb</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span><span class='period'>.</span><span class='id identifier rubyid_capitalize'>capitalize</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rqobj'>rqobj</span> <span class='op'>=</span> <span class='ivar'>@net_http_request</span> <span class='op'>=</span> <span class='id identifier rubyid_rqclass'>rqclass</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_uri'>uri</span><span class='period'>.</span><span class='id identifier rubyid_request_uri'>request_uri</span><span class='rparen'>)</span>
  <span class='ivar'>@request_uri</span> <span class='op'>=</span> <span class='id identifier rubyid_uri'>uri</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
  <span class='id identifier rubyid_connexion'>connexion</span> <span class='op'>=</span> <span class='const'>Net</span><span class='op'>::</span><span class='const'>HTTP</span><span class='period'>.</span><span class='id identifier rubyid_start'>start</span><span class='lparen'>(</span><span class='id identifier rubyid_uri'>uri</span><span class='period'>.</span><span class='id identifier rubyid_host'>host</span><span class='comma'>,</span> <span class='id identifier rubyid_uri'>uri</span><span class='period'>.</span><span class='id identifier rubyid_port'>port</span><span class='rparen'>)</span>
  <span class='comment'>#
</span>  <span class='comment'># @todo Merge in default options from upstream
</span>  <span class='comment'>#
</span>  <span class='kw'>unless</span> <span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_key?'>key?</span><span class='lparen'>(</span><span class='symbol'>:basic_auth</span><span class='rparen'>)</span> \
          <span class='op'>||</span> <span class='const'>CandlepinAPI</span><span class='period'>.</span><span class='id identifier rubyid_basic_auth'>basic_auth</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_rqobj'>rqobj</span><span class='period'>.</span><span class='id identifier rubyid_basic_auth'>basic_auth</span><span class='lparen'>(</span><span class='op'>*</span><span class='const'>CandlepinAPI</span><span class='period'>.</span><span class='id identifier rubyid_basic_auth'>basic_auth</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='lparen'>(</span><span class='ivar'>@request_header</span><span class='period'>.</span><span class='id identifier rubyid_kind_of?'>kind_of?</span><span class='lparen'>(</span><span class='const'>Hash</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='ivar'>@request_header</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_h_k'>h_k</span><span class='comma'>,</span><span class='id identifier rubyid_h_v'>h_v</span><span class='op'>|</span> <span class='id identifier rubyid_rqobj'>rqobj</span><span class='lbracket'>[</span><span class='id identifier rubyid_h_k'>h_k</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_h_v'>h_v</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='rbrace'>}</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_opname'>opname</span><span class='comma'>,</span><span class='id identifier rubyid_opval'>opval</span><span class='op'>|</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_opname'>opname</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span>
    <span class='kw'>when</span> <span class='symbol'>:basic_auth</span>
      <span class='id identifier rubyid_rqobj'>rqobj</span><span class='period'>.</span><span class='id identifier rubyid_basic_auth'>basic_auth</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_opval'>opval</span><span class='rparen'>)</span>
    <span class='kw'>when</span> <span class='symbol'>:headers</span>
      <span class='id identifier rubyid_opval'>opval</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_h_k'>h_k</span><span class='comma'>,</span><span class='id identifier rubyid_h_v'>h_v</span><span class='op'>|</span> <span class='id identifier rubyid_rqobj'>rqobj</span><span class='lbracket'>[</span><span class='id identifier rubyid_h_k'>h_k</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_h_v'>h_v</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='rbrace'>}</span>
    <span class='kw'>when</span> <span class='symbol'>:read_timeout</span>
      <span class='id identifier rubyid_connexion'>connexion</span><span class='period'>.</span><span class='id identifier rubyid_read_timeout'>read_timeout</span> <span class='op'>=</span> <span class='id identifier rubyid_opval'>opval</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_rqobj'>rqobj</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Content-type</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>application/json</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='lparen'>(</span><span class='id identifier rubyid_rqobj'>rqobj</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Content-type</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='ivar'>@request_body</span> <span class='op'>||=</span> <span class='ivar'>@body</span>
  <span class='ivar'>@raw_response</span> <span class='op'>=</span> <span class='id identifier rubyid_connexion'>connexion</span><span class='period'>.</span><span class='id identifier rubyid_request'>request</span><span class='lparen'>(</span><span class='id identifier rubyid_rqobj'>rqobj</span><span class='comma'>,</span> <span class='ivar'>@request_body</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_connexion'>connexion</span><span class='period'>.</span><span class='id identifier rubyid_finish'>finish</span>
  <span class='kw'>return</span> <span class='ivar'>@raw_response</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_s-instance_method">
  
    - (<tt>Object</tt>) <strong>to_s</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Our as-a-string rendition is the URI path with all appropriate values
filled in.  Easily automated; I love that.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


549
550
551
552
553
554
555
556
557
558
559
560
561
562
563
564
565
566
567
568
569
570
571
572
573
574
575
576
577
578
579
580
581
582
583
584
585
586
587
588
589
590
591
592
593
594
595
596
597
598
599
600
601
602</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 549</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_s'>to_s</span>
  <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_const_get'>const_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>URI_Regex_String</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_sub'>sub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>%r!</span><span class='tstring_content'>^\^</span><span class='regexp_end'>!</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/candlepin/</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_sub!'>sub!</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>%r!</span><span class='tstring_content'>/\?\$</span><span class='regexp_end'>!</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_gsub!'>gsub!</span><span class='lparen'>(</span><span class='const'>Placeholder_RE</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%s</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_const_get'>const_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>PathParams</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_m'>m</span><span class='op'>|</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid___send__'>__send__</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_const_get'>const_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>PathMap</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='id identifier rubyid_m'>m</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>{</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_m'>m</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='embexpr_end'>}</span><span class='tstring_content'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='rbrace'>}</span>

  <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span> <span class='op'>%</span> <span class='id identifier rubyid_args'>args</span>
  <span class='kw'>if</span> <span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_server_uri'>server_uri</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_uri'>uri</span> <span class='op'>=</span> <span class='const'>URI</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_server_uri'>server_uri</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_uri'>uri</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>%r!</span><span class='tstring_content'>/candlepin$</span><span class='regexp_end'>!</span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_sub!'>sub!</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>%r!</span><span class='tstring_content'>^/candlepin</span><span class='regexp_end'>!</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_sub!'>sub!</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>%r!</span><span class='tstring_content'>^/</span><span class='regexp_end'>!</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_uri'>uri</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span><span class='lbracket'>[</span><span class='op'>-</span><span class='int'>1</span><span class='comma'>,</span><span class='int'>1</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_uri'>uri</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_path'>path</span>
    <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='id identifier rubyid_uri'>uri</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
  <span class='kw'>end</span>
  <span class='comment'>#
</span>  <span class='comment'># The verb-invariant portion is done.  If that&#39;s it (i.e., the
</span>  <span class='comment'># QueryParams constant isn&#39;t defined [as is the case for an endpoint
</span>  <span class='comment'># rather than a endpoint+verb], or the list of query-parameter names
</span>  <span class='comment'># is empty), we need go no farther.
</span>  <span class='comment'>#
</span>  <span class='kw'>if</span> <span class='lparen'>(</span><span class='lparen'>(</span><span class='op'>!</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_const_defined?'>const_defined?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>QueryParams</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='rparen'>)</span> \
      <span class='op'>||</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_const_get'>const_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>QueryParams</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_path'>path</span>
  <span class='kw'>end</span>
  <span class='comment'>#
</span>  <span class='comment'># Load up any query-string arguments into the string.
</span>  <span class='comment'>#
</span>  <span class='id identifier rubyid_qargs'>qargs</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_const_get'>const_get</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>QueryParams</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='op'>|</span>
    <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='kw'>unless</span> <span class='lparen'>(</span><span class='lparen'>(</span><span class='id identifier rubyid_v'>v</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid___send__'>__send__</span><span class='lparen'>(</span><span class='id identifier rubyid_k'>k</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_k'>k</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='embexpr_end'>}</span><span class='tstring_content'>=</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_v'>v</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_result'>result</span>
  <span class='rbrace'>}</span>
  <span class='comment'>#
</span>  <span class='comment'># Any query parameters with no values assigned will be represented
</span>  <span class='comment'># in the array by nil, so we can zap &#39;em out easily.
</span>  <span class='comment'>#
</span>  <span class='id identifier rubyid_qargs'>qargs</span><span class='period'>.</span><span class='id identifier rubyid_compact!'>compact!</span>
  <span class='comment'>#
</span>  <span class='comment'># If there really were some values, add them
</span>  <span class='comment'>#
</span>  <span class='kw'>unless</span> <span class='lparen'>(</span><span class='id identifier rubyid_qargs'>qargs</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_path'>path</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>?</span><span class='tstring_end'>&#39;</span></span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_qargs'>qargs</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&amp;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='comment'>#
</span>  <span class='comment'># Done!  The result is the path plus querystring for the object.
</span>  <span class='comment'>#
</span>  <span class='kw'>return</span> <span class='id identifier rubyid_path'>path</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="valid_response?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>valid_response?</strong>(rsp) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>def valid_responses</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


621
622
623</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 621</span>

<span class='kw'>def</span> <span class='id identifier rubyid_valid_response?'>valid_response?</span><span class='lparen'>(</span><span class='id identifier rubyid_rsp'>rsp</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_valid_response?'>valid_response?</span><span class='lparen'>(</span><span class='id identifier rubyid_rsp'>rsp</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="valid_responses-instance_method">
  
    - (<tt>Object</tt>) <strong>valid_responses</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>dev verbs</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


617
618
619</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 617</span>

<span class='kw'>def</span> <span class='id identifier rubyid_valid_responses'>valid_responses</span>
  <span class='kw'>return</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_valid_responses'>valid_responses</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="verb-instance_method">
  
    - (<tt>Object</tt>) <strong>verb</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


871
872
873</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 871</span>

<span class='kw'>def</span> <span class='id identifier rubyid_verb'>verb</span>
  <span class='kw'>return</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_verb'>verb</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="verbs-instance_method">
  
    - (<tt>Object</tt>) <strong>verbs</strong> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


613
614
615</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/candlepin-api/base.rb', line 613</span>

<span class='kw'>def</span> <span class='id identifier rubyid_verbs'>verbs</span>
  <span class='kw'>return</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_verbs'>verbs</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Mon Oct 28 16:49:33 2013 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.6.2 (ruby-2.0.0).
</div>

  </body>
</html>